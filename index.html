<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="MyInsta Download - Download Instagram photos, videos, reels, and stories for free">
  <meta name="keywords" content="instagram downloader, instagram photo downloader, instagram video downloader, instagram reel downloader, instagram story downloader">
  <meta name="robots" content="noindex, nofollow">
  
  <title>MyInsta Download - Free Instagram Downloader</title>
  
  <style>
    /* Base styles */
    *, *::before, *::after {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    body {
      background-color: #0f0f0f;
      color: #f8fafc;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      line-height: 1.5;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }
    
    .container {
      width: 100%;
      max-width: 800px;
      margin: 0 auto;
      padding: 2rem 1rem;
    }
    
    /* Header and Navigation */
    header {
      border-bottom: 1px solid #333;
      padding: 1rem 0;
    }
    
    .header-container {
      display: flex;
      justify-content: space-between;
      align-items: center;
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 1rem;
    }
    
    .logo {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    
    .logo svg {
      fill: #3b82f6;
      width: 2rem;
      height: 2rem;
    }
    
    .logo-text {
      font-size: 1.25rem;
      font-weight: bold;
    }
    
    nav ul {
      display: flex;
      list-style: none;
    }
    
    nav ul li {
      margin-left: 1.5rem;
    }
    
    nav a {
      color: #f8fafc;
      text-decoration: none;
      transition: color 0.2s;
    }
    
    nav a:hover {
      color: #3b82f6;
    }
    
    /* Typography */
    h1 {
      font-size: 2.25rem;
      font-weight: 700;
      margin-bottom: 1rem;
      text-align: center;
    }
    
    h2 {
      font-size: 1.5rem;
      font-weight: 600;
      margin-top: 2rem;
      margin-bottom: 1rem;
    }
    
    h3 {
      font-size: 1.25rem;
      font-weight: 600;
      margin-bottom: 0.5rem;
      color: #3b82f6;
    }
    
    .subtitle {
      text-align: center;
      color: #9ca3af;
      margin-bottom: 2rem;
    }
    
    /* Form elements */
    input[type="text"] {
      width: 100%;
      padding: 0.75rem;
      background-color: #1a1b1e;
      border: 1px solid #333;
      border-radius: 0.25rem;
      color: #f8fafc;
      font-size: 1rem;
      margin-bottom: 1rem;
    }
    
    button {
      display: flex;
      align-items: center;
      justify-content: center;
      background-color: #3b82f6;
      color: white;
      border: none;
      border-radius: 0.25rem;
      padding: 0.75rem 1.5rem;
      font-size: 1rem;
      font-weight: 500;
      cursor: pointer;
      transition: transform 0.1s ease, background-color 0.2s ease;
    }
    
    button:hover {
      background-color: #2563eb;
      transform: scale(1.02);
    }
    
    button:active {
      transform: scale(0.98);
    }
    
    /* Card and sections */
    .card {
      background-color: #1a1b1e;
      border-radius: 0.5rem;
      padding: 1.5rem;
      margin-bottom: 2rem;
      border: 1px solid #333;
    }
    
    .main-card {
      text-align: center;
    }
    
    /* Loading animation */
    .loader {
      display: none;
      width: 1.5rem;
      height: 1.5rem;
      border: 3px solid rgba(255, 255, 255, 0.2);
      border-radius: 50%;
      border-top-color: white;
      animation: spin 1s linear infinite;
      margin-right: 0.5rem;
    }
    
    @keyframes spin {
      to {
        transform: rotate(360deg);
      }
    }
    
    /* Preview section */
    .preview {
      display: none;
      margin-top: 2rem;
    }
    
    .preview img, .preview video {
      max-width: 100%;
      border-radius: 0.25rem;
      margin-bottom: 1rem;
    }
    
    /* List styles */
    ol {
      margin-left: 1.5rem;
      margin-bottom: 1.5rem;
    }
    
    li {
      margin-bottom: 0.5rem;
    }
    
    .steps {
      counter-reset: step;
      list-style-type: none;
      margin-left: 0;
    }
    
    .steps li {
      position: relative;
      padding-left: 2.5rem;
      margin-bottom: 1rem;
    }
    
    .steps li::before {
      counter-increment: step;
      content: counter(step);
      position: absolute;
      left: 0;
      top: 0;
      background: #3b82f6;
      color: white;
      width: 1.75rem;
      height: 1.75rem;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
    }
    
    /* Error message */
    .error {
      color: #ef4444;
      margin-bottom: 1rem;
      display: none;
    }
    
    /* Footer */
    footer {
      margin-top: auto;
      border-top: 1px solid #333;
      padding: 1.5rem 0;
    }
    
    .footer-container {
      display: flex;
      justify-content: space-between;
      align-items: center;
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 1rem;
      flex-wrap: wrap;
      gap: 1rem;
    }
    
    .copyright {
      color: #9ca3af;
      font-size: 0.875rem;
    }
    
    .legal {
      color: #9ca3af;
      font-size: 0.875rem;
    }
    
    /* Responsive adjustments */
    @media (max-width: 640px) {
      h1 {
        font-size: 1.75rem;
      }
      
      .container {
        padding: 1rem;
      }
      
      .footer-container {
        flex-direction: column;
        text-align: center;
      }
      
      .header-container {
        flex-direction: column;
        gap: 1rem;
      }
      
      nav ul li {
        margin: 0 0.75rem;
      }
    }
    
    /* Sections spacing */
    section {
      margin-bottom: 3rem;
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header>
    <div class="header-container">
      <div class="logo">
        <svg viewBox="0 0 24 24">
          <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
        </svg>
        <span class="logo-text">MyInsta Download</span>
      </div>
      
      <nav>
        <ul>
          <li><a href="#how-to-use">How to Use</a></li>
          <li><a href="#faq">FAQ</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main>
    <div class="container">
      <!-- Hero Section -->
      <section>
        <h1>Download Instagram Content In Seconds</h1>
        <p class="subtitle">Photos, Videos, Reels, and Stories - Download them all with just one click!</p>
        
        <div class="card main-card">
          <input type="text" id="instaUrl" placeholder="Paste Instagram link here...">
          <p class="error" id="errorMsg">Please enter a valid Instagram URL</p>
          <button id="downloadBtn">
            <div class="loader" id="loader"></div>
            Download
          </button>
        </div>
      </section>
      
      <div class="preview" id="previewSection">
        <h2>Preview Content</h2>
        <div class="card">
          <div id="previewContent"></div>
          <button id="downloadAllBtn">Download All</button>
        </div>
      </div>
      
      <section id="how-to-use">
        <h2>How to Use</h2>
        <div class="card">
          <ol class="steps">
            <li>Copy the URL of the Instagram post, reel, or story you want to download</li>
            <li>Paste the URL in the input field above</li>
            <li>Click the "Download" button</li>
            <li>Preview the content and click "Download" to save it to your device</li>
          </ol>
        </div>
      </section>
      
      <section id="faq">
        <h2>Frequently Asked Questions</h2>
        <div class="card">
          <div class="faq-item">
            <h3>Is this service free?</h3>
            <p>Yes, MyInsta Download is completely free to use. No registration required.</p>
          </div>
          
          <div class="faq-item">
            <h3>What content can I download?</h3>
            <p>You can download photos, videos, reels, and stories from public Instagram accounts.</p>
          </div>
          
          <div class="faq-item">
            <h3>Is it legal to download Instagram content?</h3>
            <p>Downloading content for personal use is generally acceptable. However, republishing content without permission may violate copyright laws. Always respect the original creator's rights.</p>
          </div>
        </div>
      </section>
    </div>
  </main>

  <footer>
    <div class="footer-container">
      <p class="copyright">&copy; 2023 MyInsta Download. Not affiliated with Instagram.</p>
      <p class="legal"><strong>Legal Notice:</strong> Use this service responsibly. Only download content you have rights to.</p>
    </div>
  </footer>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const downloadBtn = document.getElementById('downloadBtn');
      const downloadAllBtn = document.getElementById('downloadAllBtn');
      const instaUrl = document.getElementById('instaUrl');
      const errorMsg = document.getElementById('errorMsg');
      const loader = document.getElementById('loader');
      const previewSection = document.getElementById('previewSection');
      const previewContent = document.getElementById('previewContent');
      
      // Handle download button click
      downloadBtn.addEventListener('click', function() {
        const url = instaUrl.value.trim();
        
        // Basic validation
        if (!url || !url.includes('instagram.com')) {
          errorMsg.style.display = 'block';
          return;
        }
        
        errorMsg.style.display = 'none';
        loader.style.display = 'block';
        downloadBtn.disabled = true;
        
        // Call the API to get Instagram content
        fetch('/api/download', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({ url: url }),
        })
        .then(response => response.json())
        .then(data => {
          loader.style.display = 'none';
          downloadBtn.disabled = false;
          
          if (!data.success) {
            errorMsg.textContent = data.message || 'Error processing Instagram URL';
            errorMsg.style.display = 'block';
            return;
          }
          
          // Show preview
          previewSection.style.display = 'block';
          
          // Generate HTML for media preview
          let previewHTML = '';
          
          if (data.data.username) {
            previewHTML += `<div class="user-info"><strong>@${data.data.username}</strong></div>`;
          }
          
          if (data.data.caption) {
            previewHTML += `<p class="caption">${data.data.caption}</p>`;
          }
          
          previewHTML += '<div class="media-container">';
          
          data.data.media.forEach((item, index) => {
            if (item.type === 'image') {
              previewHTML += `
                <div class="media-item">
                  <img src="${item.url}" alt="Instagram Image ${index + 1}">
                  <a href="${item.url}" download="instagram_image_${index + 1}" class="download-link" target="_blank">Download Image</a>
                </div>
              `;
            } else if (item.type === 'video') {
              previewHTML += `
                <div class="media-item">
                  <video controls${item.thumbnail ? ` poster="${item.thumbnail}"` : ''}>
                    <source src="${item.url}" type="video/mp4">
                    Your browser does not support the video tag.
                  </video>
                  <a href="${item.url}" download="instagram_video_${index + 1}" class="download-link" target="_blank">Download Video</a>
                </div>
              `;
            }
          });
          
          previewHTML += '</div>';
          
          previewContent.innerHTML = previewHTML;
          
          // Style the download links
          const style = document.createElement('style');
          style.textContent = `
            .user-info {
              margin-bottom: 1rem;
              font-size: 1.1rem;
            }
            .caption {
              margin-bottom: 1.5rem;
              font-style: italic;
              color: #9ca3af;
            }
            .media-container {
              display: flex;
              flex-direction: column;
              gap: 1.5rem;
            }
            .media-item {
              display: flex;
              flex-direction: column;
              align-items: center;
              gap: 0.5rem;
            }
            .media-item img, .media-item video {
              max-width: 100%;
              border-radius: 0.5rem;
              box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            }
            .download-link {
              display: inline-block;
              background-color: #3b82f6;
              color: white;
              text-decoration: none;
              padding: 0.5rem 1rem;
              border-radius: 0.25rem;
              font-weight: 500;
              transition: background-color 0.2s;
            }
            .download-link:hover {
              background-color: #2563eb;
            }
          `;
          document.head.appendChild(style);
        })
        .catch(error => {
          console.error('Error:', error);
          loader.style.display = 'none';
          downloadBtn.disabled = false;
          errorMsg.textContent = 'Network error. Please try again.';
          errorMsg.style.display = 'block';
        });
      });
      
      // Handle download all button click
      downloadAllBtn.addEventListener('click', function() {
        // Find all download links and trigger clicks
        const downloadLinks = document.querySelectorAll('.download-link');
        if (downloadLinks.length > 0) {
          downloadLinks.forEach(link => {
            // Create a new window/tab for each download
            window.open(link.href, '_blank');
          });
        }
      });
      
      // Smooth scroll for navigation links
      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
          e.preventDefault();
          document.querySelector(this.getAttribute('href')).scrollIntoView({
            behavior: 'smooth'
          });
        });
      });
    });
  </script>
</body>
</html>
